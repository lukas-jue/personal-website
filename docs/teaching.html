<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lukas Jürgensmeier - Teaching</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-SRCXLB0QJK"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-SRCXLB0QJK', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="Lukas Jürgensmeier">
<meta property="og:description" content="Lukas Jürgensmeier is a Ph.D.&nbsp;Student and Research Assistant in Quantitative Marketing at Goethe University Frankfurt. His research focuses on the interface between Data Science and Marketing. Lukas applies modern econometric methods to novel data sources in the digital economy—especially with the R programming language.">
<meta property="og:site-name" content="Lukas Jürgensmeier">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Lukas Jürgensmeier</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./research.html" rel="" target="">
 <span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./teaching.html" rel="" target="" aria-current="page">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./curriculum-vitae.html" rel="" target="">
 <span class="menu-text">Curriculum Vitae</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./techacademy.html" rel="" target="">
 <span class="menu-text">TechAcademy</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./contact.html" rel="" target="">
 <span class="menu-text">Contact</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction-to-data-science-with-r-and-tidyverse" id="toc-introduction-to-data-science-with-r-and-tidyverse" class="nav-link active" data-scroll-target="#introduction-to-data-science-with-r-and-tidyverse">Introduction to Data Science with R and Tidyverse</a>
  <ul class="collapse">
  <li><a href="#course-objective" id="toc-course-objective" class="nav-link" data-scroll-target="#course-objective">Course Objective</a></li>
  <li><a href="#course-description" id="toc-course-description" class="nav-link" data-scroll-target="#course-description">Course Description</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a></li>
  <li><a href="#this-course-at-your-company-or-institution" id="toc-this-course-at-your-company-or-institution" class="nav-link" data-scroll-target="#this-course-at-your-company-or-institution">This Course at Your Company or Institution?</a></li>
  </ul></li>
  <li><a href="#marketing-analytics-econometrics-in-management" id="toc-marketing-analytics-econometrics-in-management" class="nav-link" data-scroll-target="#marketing-analytics-econometrics-in-management">Marketing Analytics (Econometrics in Management)</a>
  <ul class="collapse">
  <li><a href="#course-description-1" id="toc-course-description-1" class="nav-link" data-scroll-target="#course-description-1">Course Description</a></li>
  </ul></li>
  <li><a href="#seminar-customer-analytics" id="toc-seminar-customer-analytics" class="nav-link" data-scroll-target="#seminar-customer-analytics">Seminar: Customer Analytics</a>
  <ul class="collapse">
  <li><a href="#course-description-2" id="toc-course-description-2" class="nav-link" data-scroll-target="#course-description-2">Course Description</a></li>
  </ul></li>
  <li><a href="#techacademy" id="toc-techacademy" class="nav-link" data-scroll-target="#techacademy">TechAcademy</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/lukas-jue/personal-website/edit/main/teaching.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/lukas-jue/personal-website/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Teaching</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>My teaching focuses on programming with R and applied econometrics in Marketing. I aim to convey a valuable data science toolkit that enables students to answer complex economic or business questions with data and statistics.</p>
<p>To convey the—sometimes technical and challenging—programming and statistical methods, I follow a teaching philosophy that avoids teacher’s monologues in lengthy lectures but instead forces students to <em>get their hands dirty</em> quickly and learn by doing. Hence, my courses involve short primers on technical concepts but heavily rely on the students working in small groups to solve small case studies. From my experience, students learn (sometimes challenging) topics such as programming and statistics in a more motivating and effective way.</p>
<p>Below, you will find my teaching portfolio and links to my teaching materials.</p>
<section id="introduction-to-data-science-with-r-and-tidyverse" class="level1">
<h1>Introduction to Data Science with R and Tidyverse</h1>
<table class="table">
<tbody>
<tr class="odd">
<td><strong>Course Name</strong></td>
<td>Introduction to Data Science with R and the Tidyverse</td>
</tr>
<tr class="even">
<td><strong>Course level</strong></td>
<td>Ph.D.</td>
</tr>
<tr class="odd">
<td><strong>I nstitution</strong></td>
<td>Goethe University Frankfurt (GRADE)</td>
</tr>
<tr class="even">
<td><strong>Target group</strong></td>
<td>Doctoral students from STEM fields with none or little <code>R</code> experience</td>
</tr>
<tr class="odd">
<td><strong>Role</strong></td>
<td>Lead teacher, course designer</td>
</tr>
<tr class="even">
<td><strong>Jointly taught with</strong></td>
<td>Over time, I have taught this course with many great colleagues: Lara Zaremba, Karlo Lukic, Matteo Fina, and Jan Bischoff</td>
</tr>
<tr class="odd">
<td><strong>Duration</strong></td>
<td>3 x 2 hours over three weeks or 1 x 6 hours</td>
</tr>
<tr class="even">
<td><ul>
<li>*Semesters**</li>
</ul></td>
<td>Summer 2021, Winter 2021/22, Summer 2022, Summer 2023</td>
</tr>
<tr class="odd">
<td><strong>Language</strong></td>
<td>English</td>
</tr>
<tr class="even">
<td><ul>
<li>*Resources**</li>
</ul></td>
<td>Link to course materials (<a href="https:/%20/coding-int%20ro.github.io/intro-tidyverse-2023-06/">Summer 2023</a>)</td>
</tr>
</tbody>
</table>
<section id="course-objective" class="level2">
<h2 class="anchored" data-anchor-id="course-objective">Course Objective</h2>
<p>Most academic fields require proficiency in at least one data-centered analysis tool. For many, the R programming language has become the tool of choice. However, the first steps in coding can be intimidating and discouraging—primarily if you have never worked with a programming language before. This course aims to provide a results-oriented, applied, and hands-on introduction to the essential parts of a Data Science project in R. We will introduce the libraries and frameworks necessary for your analysis and focus on teaching you the implementation and application of those tools. We’ll present small examples throughout the lecture and provide you with application exercises that you can work on for yourself.</p>
<p>We aim to show you the scope of possibilities within R and leave you with the impression that you can confidently implement your empirical projects in R. We will focus on the Tidyverse ecosystem, a consistent and intuitive framework for building your data analysis from start to finish. After completing this course, you know how to apply the essential Tidyverse tools for everyday Data Science tasks in R—primarily data wrangling, data visualization, and communicating results.</p>
</section>
<section id="course-description" class="level2">
<h2 class="anchored" data-anchor-id="course-description">Course Description</h2>
<p>We aim this course at beginners who are either entirely new to R as a programming language and/or want to learn about the Tidyverse ecosystem. The course covers four primary areas of the typical data science process and introduces the respective <code>tidyverse</code> tools:</p>
<ul>
<li>Plotting with <code>ggplot2</code></li>
<li>Data wrangling with <code>dplyr</code></li>
<li>Communicating your results with R Markdown</li>
<li>Regressions with <code>tidymodels</code></li>
</ul>
<p>We will not cover statistical or theoretical concepts in this course, as the focus will lie on applied coding.</p>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<p>We will <em>let you eat cake first</em>. What does that mean? Many programming courses start with the absolute basics — variable types, syntax, loops, etc. Those are important but quite dull in the beginning. Instead of monotonously walking you through those, we follow a different teaching philosophy.</p>
<p>Each topic will start with a very friendly and sometimes a bit complicated <em>cake</em>. And you will dive right into it by executing and adapting the code for that “data science cake.”</p>
<p>For example, we will show you an advanced visualization right at the beginning of the course and focus on what is possible eventually. While this might appear intimidating at first (<em>“how should I ever be able to code that from scratch?”</em>), we will walk you through the steps and introduce the methods to get there during the course.</p>
<p>The course will alternate between short introductions to a concept or method and small do-it-yourself coding exercises. In between the three sessions, you are encouraged to work on provided exercises that further deepen your understanding.</p>
</section>
<section id="this-course-at-your-company-or-institution" class="level2">
<h2 class="anchored" data-anchor-id="this-course-at-your-company-or-institution">This Course at Your Company or Institution?</h2>
<p>Please contact me via E-Mail if you are interested in hosting this R course or a similar Python course at your institution.</p>
<p><span id="obf"></span></p>
<script>document.getElementById("obf").innerHTML="<n uers=\"znvygb:y.whretrafzrvre@tznvy.pbz\" gnetrg=\"_oynax\">Fraq zr na R-Znvy</n>".replace(/[a-zA-Z]/g,function(c){return String.fromCharCode((c<="Z"?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26);});document.body.appendChild(eo);</script>
<noscript>
<span style="unicode-bidi:bidi-override;direction:rtl;">moc.liamg@reiemsnegreuj.l</span>
</noscript>
<p></p>
</section>
</section>
<section id="marketing-analytics-econometrics-in-management" class="level1">
<h1>Marketing Analytics (Econometrics in Management)</h1>
<table class="table">
<tbody>
<tr class="odd">
<td><strong>Course Name</strong></td>
<td>Marketing Analytics (Econometrics in Management)</td>
</tr>
<tr class="even">
<td><strong>Course level</strong></td>
<td>Bachelor’s</td>
</tr>
<tr class="odd">
<td><ul>
<li>*Institution**</li>
</ul></td>
<td>Goethe University Frankfurt</td>
</tr>
<tr class="even">
<td><strong>Target group</strong></td>
<td>Business and Economics students</td>
</tr>
<tr class="odd">
<td><strong>Role</strong></td>
<td>Teaching assistant</td>
</tr>
<tr class="even">
<td><strong>Faculty</strong></td>
<td><p>Prof.&nbsp;Dr.&nbsp;Bernd Skiera</p>
<p>Prof.&nbsp;Dr.&nbsp;Jochen Reiner</p></td>
</tr>
<tr class="odd">
<td><strong>Duration</strong></td>
<td>3 hours per week (~15 weeks)</td>
</tr>
<tr class="even">
<td><strong>Semesters</strong></td>
<td>Summer 2021, Winter 2021/22, Summer 2022, Winter 2022/23</td>
</tr>
<tr class="odd">
<td><strong>Language</strong></td>
<td>German</td>
</tr>
<tr class="even">
<td><strong>Resources</strong></td>
<td>Link to course materials on the university learning platform (<a href="https://olat-ce.server.uni-frankfurt.de/%20olat/auth/RepositoryEntry/17995235331?12">Summer 2023</a>)</td>
</tr>
</tbody>
</table>
<section id="course-description-1" class="level2">
<h2 class="anchored" data-anchor-id="course-description-1">Course Description</h2>
<p>This course teaches around 200 students per semester the basics of data analysis with the software R. We aim to enable the students with a valuable toolkit to answer data-driven economic questions with a modern Data Science toolkit. The course follows the <em>Flipped Classroom</em> principle.</p>
<p>We provide the course content in videos “on-demand” before the face-to-face classroom session. Students watch the videos before coming to class and hence learn theoretical concepts. We then build upon that foundation and use the face-to-face time in class to deepen students’ understanding. In particular, we fully allocate the time in class for interaction in the form of small 60-minutes hands-on data science exercises in small groups and effective Q&amp;A sessions.</p>
</section>
</section>
<section id="seminar-customer-analytics" class="level1">
<h1>Seminar: Customer Analytics</h1>
<table class="table">
<tbody>
<tr class="odd">
<td><strong>Course Name</strong></td>
<td>Empirical Customer Analytics — A Practice-oriented Introduction</td>
</tr>
<tr class="even">
<td><strong>Course level</strong></td>
<td>Bachelor’s</td>
</tr>
<tr class="odd">
<td><strong>In stitution</strong></td>
<td>Goethe University Frankfurt</td>
</tr>
<tr class="even">
<td><strong>Target group</strong></td>
<td>Advanced undergraduate Business and Economics students</td>
</tr>
<tr class="odd">
<td><strong>Role</strong></td>
<td>Teaching assistant</td>
</tr>
<tr class="even">
<td><strong>Faculty</strong></td>
<td>Hon.&nbsp;Prof.&nbsp;Dr.&nbsp;<a href="https://tinygu.de/Iixnm">Martin Schmidberger</a>, Head of Customer Analytics at ING Germany.</td>
</tr>
<tr class="odd">
<td><ul>
<li>*Duration**</li>
</ul></td>
<td>2 hours per week (~15 weeks)</td>
</tr>
<tr class="even">
<td><strong> Semesters</strong></td>
<td>Winter 2023/24</td>
</tr>
<tr class="odd">
<td><ul>
<li>*Language**</li>
</ul></td>
<td>German</td>
</tr>
<tr class="even">
<td><strong> Resources</strong></td>
<td>Link to <a href="https://tinygu.de/7xl10">course description</a></td>
</tr>
</tbody>
</table>
<section id="course-description-2" class="level2">
<h2 class="anchored" data-anchor-id="course-description-2">Course Description</h2>
<p>This course teaches students to analyze real-world banking customer data with common marketing analytics methods. We teach methodological skills, including regression-based (e.g., linear and logistic regressions) and machine learning methods (e.g., random forests), and their implementation in <code>R</code>. Beyond teaching technical skills, this course focuses on enabling students to make data-driven marketing decisions in a relevant business setting. We analyze real (anonymized) customer data from one of the largest German banks.</p>
<p>We organize the course along the customer life cycle:</p>
<ul>
<li><p><em>The acquisition of new customers:</em> Analysis of acquisition channels and their efficiency and optimization of the conversion “funnel.”</p></li>
<li><p><em>The development from one-off to serial customers</em>: understanding cross-selling and optimizing sales in the customer base.</p></li>
<li><p><em>The collection and analysis of customer feedback</em> to better understand customer satisfaction.</p></li>
<li><p><em>The analysis and prevention of cancellations</em> (churn) to avoid cancellations and implement active cancellation prevention.</p></li>
</ul>
<p>This course investigates these phases by empirically analyzing real banking customer data, including:</p>
<ul>
<li><p>The exploration and preparation of data through exploratory data analysis and necessary data wrangling.</p></li>
<li><p>The analysis of log files and associated basic data analysis in e-commerce.</p></li>
<li><p>The analysis of purchase and cancellation behavior using suitable (regression-based) methods.</p></li>
<li><p>The analysis of customer feedback from web portals through basic text mining techniques.</p></li>
</ul>
</section>
</section>
<section id="techacademy" class="level1">
<h1>TechAcademy</h1>
<p>At TechAcademy, we teach coding in Data Science with R and Python, Web Development, and App Development to university students from all fields and previous experiences. We do so using an innovative blended learning approach that combines e-learning courses with offline Coding Meetups, group projects, a strong community, and individualized support from mentors.</p>
<p>Before joining the executive board of the non-profit organization, I led the organization’s data science and learning development team. Together with that team, we developed the innovative learning concept that significantly lowers the entry barrier to coding education and opens once closed (career) opportunities for students—especially from fields other than computer science.</p>
<p><a href="./techacademy.html">More information on TechAcademy e.V.</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>